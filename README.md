# bash
### Задание:
Написать скрипт для CRON, который раз в час формирует отчёт и отправляет его на заданную почту.\

Отчёт должен содержать:\

IP-адреса с наибольшим числом запросов (с момента последнего запуска);\
Запрашиваемые URL с наибольшим числом запросов (с момента последнего запуска);\
Ошибки веб-сервера/приложения (с момента последнего запуска);\
HTTP-коды ответов с указанием их количества (с момента последнего запуска).\

Скрипт должен предотвращать одновременный запуск нескольких копий, до его завершения.\

В письме должен быть прописан обрабатываемый временной диапазон.\

Критерии оценки:
Трапы и функции, а также sed и find
```
root@Ubuntu22:~# cat << EOF > /etc/cron.hourly/email_script
> sendmail teacher@otus.ru < /root/email.txt
EOF
root@Ubuntu22:~# cat /etc/cron.hourly/email_script
sendmail teacher@otus.ru < /root/email.txt
root@Ubuntu22:~#
root@Ubuntu22:~# grep  -o -E "http.*" /var/log/nginx/access-4560-644067.log | awk '{print$1}' | sed -r 's/https?:\/\/([^/]*).*/\1/' | sort | uniq -c | sort -n >> /root/email.txt

```
